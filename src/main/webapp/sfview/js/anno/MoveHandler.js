import Handler from"/sfview/js/anno/Handler.js";import Anno from"/sfview/js/anno/Anno.js";export default class MoveHandler extends Handler{x;y;sx;sy;constructor(){super("grab",null)}contains(shape,rx,ry){return shape.contains(rx,ry)}initStep(x,y,shiftKey){this.x=x;this.y=y;const shape=Handler.shape;if(shiftKey){shape.selected=!shape.selected}else{if(!shape.selected){Anno.shapes.unselectAll();shape.selected=true}}Anno.drawShapes()}calcStep(shape,x,y){[this.sx,this.sy]=[x-this.x,y-this.y];[this.x,this.y]=[x,y]}applyStep(shape){shape.moveStep(this.sx,this.sy)}endStep(){if(Handler.shape.constructor.name=="Text"){Handler.shape.setFocus()}}}