import Anno from"/sfview/js/anno/Anno.js";import Handler from"/sfview/js/anno/Handler.js";export default class Tracker{selectHandler;createHandler;polylineHandler;rectTracker;lineTracker;creatingHandler;initTracker(rectTracker,lineTracker){this.rectTracker=rectTracker;this.lineTracker=lineTracker}initHandler(selectHandler,createHandler,polylineHandler){this.selectHandler=selectHandler;this.createHandler=createHandler;this.polylineHandler=polylineHandler}getTracker(shape){return shape.constructor.name=="Line"?this.lineTracker:this.rectTracker}setCreatingHandler(shape){Anno.shapes.unselectAll();shape.selected=true;Handler.shape=shape;const handler=shape.constructor.name=="Polyline"?this.polylineHandler:this.getTracker(shape).creatingHandler;Anno.curHandler=handler;return handler}draw(ctx,shape){ctx.strokeStyle="#000";ctx.fillStyle="#ffffff80";ctx.lineWidth=1;ctx.beginPath();ctx.setLineDash([]);this.handlers.forEach((x=>x.draw(ctx,shape)));ctx.fill();ctx.stroke()}getHandler(shape,x,y){console.err("getHandler() not implimented");return null}}